extends layout

block content
  .container
    h1 Обработка обращения (ID: #{appeal.id})

    // Информация об обращении
    .appeal-info
      p
        strong Тема: 
        | #{appeal.topic}
      p
        strong Текст: 
        | #{appeal.text}
      p
        strong Статус: 
        | #{appeal.status}
      p
        strong Дата создания: 
        | #{appeal.createdAt ? appeal.createdAt.toLocaleDateString() : '—'}
      p
        strong Решение: 
        | #{appeal.solution || '—'}

    // Форма для обработки обращения
    form(method="POST", action=`/appeal_solution/${appeal.id}/complete`)
      div.form-group
        label(for="solution") Решение:
        textarea(name="solution", id="solution", rows="5", required)

      div.form-group
        button(type="submit") Завершить

    // Кнопки для действий
    .buttons-container
      a(href="/all_appeal")
        button(type="button") Вернуться к списку